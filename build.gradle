
plugins {
  id 'java-library'
  id 'eclipse'
  id 'org.openjfx.javafxplugin' version '0.0.9'
  id 'application'
}

defaultTasks 'jar'

repositories {
  mavenCentral()
}

javafx {
  version = "11"
  modules = [ 'javafx.controls', 'javafx.fxml', 'javafx.graphics']
}

dependencies {
  implementation 'org.swinglabs:swing-layout:1.0.3'
  implementation 'org.swinglabs:swingx:0.9.4'
  implementation 'com.jgoodies:forms:1.0.7'
  implementation 'com.ibm.icu:icu4j:4.0.1'
  implementation 'com.jidesoft:jide-oss:3.6.18'
  implementation 'com.jgoodies:looks:2.2.1'
  implementation 'eu.medsea.mimeutil:mime-util:2.1.3'
  implementation 'javax.help:javahelp:2.0.05'
  implementation 'com.l2fprod.common:l2fprod-common-fontchooser:6.9.1'
  implementation 'com.fasterxml.jackson.core:jackson-annotations:2.12.1'
  implementation 'com.fasterxml.jackson.core:jackson-core:2.12.1'
  implementation 'com.fasterxml.jackson.core:jackson-databind:2.12.1'
  implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.12.1'
  implementation 'com.miglayout:miglayout-javafx:5.2'
  implementation 'org.controlsfx:controlsfx:8.40.18'
  implementation 'org.fxmisc.richtext:richtextfx:0.10.6'

  //implementation 'org.openjfx:javafx:13'

  //implementation "org.openjfx:javafx-base:13"
  //implementation "org.openjfx:javafx-graphics:13"
  //implementation "org.openjfx:javafx-controls:13"

  //implementation "org.openjfx:javafx-base:13:linux"
  //implementation "org.openjfx:javafx-graphics:13:linux"
  //implementation "org.openjfx:javafx-controls:13:linux"
  //implementation "org.openjfx:javafx-swing:13:linux"

  //implementation "org.openjfx:javafx-graphics:$javafx.version:win"
  //implementation "org.openjfx:javafx-graphics:$javafx.version:mac"
  //implementation "org.openjfx:javafx-swing:$javafx.version:win"
  //implementation "org.openjfx:javafx-swing:$javafx.version:mac"

  runtimeOnly "org.openjfx:javafx-base:$javafx.version:win"
  runtimeOnly "org.openjfx:javafx-graphics:$javafx.version:win"
  runtimeOnly "org.openjfx:javafx-controls:$javafx.version:win"

  runtimeOnly "org.openjfx:javafx-base:$javafx.version:linux"
  runtimeOnly "org.openjfx:javafx-graphics:$javafx.version:linux"
  runtimeOnly "org.openjfx:javafx-controls:$javafx.version:linux"

  runtimeOnly "org.openjfx:javafx-base:$javafx.version:mac"
  runtimeOnly "org.openjfx:javafx-graphics:$javafx.version:mac"
  runtimeOnly "org.openjfx:javafx-controls:$javafx.version:mac"
}

java {
  sourceCompatibility = JavaVersion.VERSION_1_8
  targetCompatibility = JavaVersion.VERSION_1_8
}

//mainClassName = 'org.jmeld.JMeld'
//mainClassName = 'org.jmeld.fx.JMeldFxMain'

jar {
    manifest {
        attributes 'Main-Class': 'org.jmeld.JMeld'
        //attributes 'Main-Class': 'org.jmeld.fx.JMeldFxMain'
    }
    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
}

